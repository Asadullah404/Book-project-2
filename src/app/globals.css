@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400&display=swap');
@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

:root {
    /* Core Palette - Light Mode (Crisp Paper) */
    --background: #f8f9fa;
    --foreground: #1a1a2e;
    --primary: #00f2ea;
    /* Neon Cyan */
    --secondary: #ff0050;
    /* Neon Magenta */
    --accent: #7000ff;
    /* Deep Purple */
    --surface: rgba(255, 255, 255, 0.7);
    --border: rgba(0, 0, 0, 0.1);

    /* Fonts */
    --font-sans: 'Inter', sans-serif;
    --font-serif: 'Merriweather', serif;
    --font-mono: 'JetBrains Mono', monospace;
}

@theme inline {
    --color-background: var(--background);
    --color-foreground: var(--foreground);
    --color-primary: var(--primary);
    --color-secondary: var(--secondary);
    --color-accent: var(--accent);
    --font-sans: var(--font-sans);
    --font-serif: var(--font-serif);
    --font-mono: var(--font-mono);
}

@media (prefers-color-scheme: dark) {
    :root {
        /* Core Palette - Dark Mode (Deep Void) */
        --background: #050505;
        --foreground: #e0e0e0;
        --primary: #00f2ea;
        --secondary: #ff0050;
        --accent: #bc13fe;
        --surface: rgba(10, 10, 15, 0.6);
        --border: rgba(255, 255, 255, 0.1);
    }
}

:root.dark {
    --background: #050505;
    --foreground: #e0e0e0;
    --primary: #00f2ea;
    --secondary: #ff0050;
    --accent: #bc13fe;
    --surface: rgba(10, 10, 15, 0.6);
    --border: rgba(255, 255, 255, 0.1);
}

body {
    color: var(--foreground);
    font-family: var(--font-sans);
    overflow: hidden;
    /* Prevent scroll on body, handle in panels */

    /* Mesh Gradient Background - Light Mode (Pastel/Airy) */
    background-color: var(--background);
    background-image:
        radial-gradient(at 0% 0%, hsla(190, 80%, 90%, 1) 0, transparent 50%),
        radial-gradient(at 50% 0%, hsla(320, 80%, 92%, 1) 0, transparent 50%),
        radial-gradient(at 100% 0%, hsla(260, 80%, 90%, 1) 0, transparent 50%);
    background-size: 200% 200%;
    animation: meshGradient 20s ease infinite;
}

body.dark {
    /* Mesh Gradient Background - Dark Mode (Deep Void) */
    background-image:
        radial-gradient(at 0% 0%, hsla(253, 16%, 7%, 1) 0, transparent 50%),
        radial-gradient(at 50% 0%, hsla(225, 39%, 20%, 1) 0, transparent 50%),
        radial-gradient(at 100% 0%, hsla(339, 49%, 20%, 1) 0, transparent 50%);
}

@keyframes meshGradient {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

/* 3D Utilities */
.perspective-1000 {
    perspective: 1000px;
}

.preserve-3d {
    transform-style: preserve-3d;
}

.backface-hidden {
    backface-visibility: hidden;
}

/* Glassmorphism Utilities */
.glass-panel {
    background: var(--surface);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--border);
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: var(--accent);
    border-radius: 3px;
    opacity: 0.5;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--primary);
}

/* Typography Overrides for Content */
.prose {
    font-family: var(--font-serif);
}

.prose h1,
.prose h2,
.prose h3,
.prose h4 {
    font-family: var(--font-sans);
    background: linear-gradient(to right, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    display: inline-block;
}

.prose code {
    font-family: var(--font-mono);
    color: var(--secondary);
}

.prose pre {
    background: #1a1a1a !important;
    color: #e0e0e0;
    /* Fix for light mode readability */
    border: 1px solid var(--border);
    border-radius: 0.5rem;
}

/* MathJax Responsive Fixes */
mjx-container {
    max-width: 100% !important;
    width: 100% !important;
    display: block !important;
    overflow-x: auto !important;
    overflow-y: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    margin: 1em 0 !important;
    padding: 0.5rem 0 !important;
}

mjx-container[display="true"] {
    display: block !important;
}

/* Ensure the container allows scrolling */
.prose {
    max-width: 100% !important;
    overflow-x: visible !important;
}

/* Scrollbar styling */
mjx-container::-webkit-scrollbar {
    height: 4px;
    background: transparent;
}

mjx-container::-webkit-scrollbar-thumb {
    background: var(--secondary);
    border-radius: 2px;
}